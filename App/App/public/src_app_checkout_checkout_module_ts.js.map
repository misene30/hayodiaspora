{"version":3,"file":"src_app_checkout_checkout_module_ts.js","mappings":"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","sources":["./src/app/checkout/checkout-routing.module.ts","./src/app/checkout/checkout.module.ts","./src/app/checkout/checkout.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckoutPage } from './checkout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckoutPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckoutPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckoutPageRoutingModule } from './checkout-routing.module';\n\nimport { CheckoutPage } from './checkout.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CheckoutPageRoutingModule\n  ],\n  declarations: [CheckoutPage]\n})\nexport class CheckoutPageModule {}\n","import { Component, OnInit } from '@angular/core';\ndeclare var Stripe;\nimport { HttpClient, HttpHeaders  } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\nimport {Router} from '@angular/router'; \n\n\n\n\n\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.page.html',\n  styleUrls: ['./checkout.page.scss'],\n})\nexport class CheckoutPage {\n\n  stripe = Stripe('pk_live_lz1cs7P5y6vwgaIwZdnDwyOS');\n  card: any;\n  public montantcredit: string;\n  public numerohayo: string;\n  constructor(private http: HttpClient, private activatedRouter:ActivatedRoute, private route:Router) {\n\n    \n    let _this = this;\n    setTimeout(() => {\n      // Render the PayPal button into #paypal-button-container\n      <any>window['paypal'].Buttons({\n\n        // Set up the transaction\n        createOrder: function (data, actions) {\n          return actions.order.create({\n            purchase_units: [{\n              amount: {\n                value: _this.montantcredit\n              }\n            }]\n          });\n        },\n\n        // Finalize the transaction\n        onApprove: function(data, actions) {\n\n          return actions.order.capture().then(function(details) {\n    \n           var headers = new HttpHeaders();\n                  headers.append(\"Accept\", 'application/json');\n                  headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=utf-8' );\n                  headers.append('Authorization', 'Basic bXlhZG1pbmFwaTpQQDU1JnIxMjNhcGloYXlvcGFzcw==' );\n               \n                  _this.http\n                    .post('https://apihayo.elite-techno.net/api/positionnementcredit', {\n                      numerohayo : _this.numerohayo,\n                       montantcredit:  _this.montantcredit\n                    }, { headers: headers })\n                    .subscribe(data => {\n                       if(data[\"status\"] == 200){\n                        _this.route.navigate(['/thanksyou']);\n                       }else {\n                        alert(\"Transaction a échoué.Veuillez vous rapprocher de votre support\");\n                      }\n              \n                    });\n      \n          });\n        }\n      }).render('#paypal-button-container');\n    }, 500)\n   \n  }\n;\n  ngOnInit() {\n    this.setupStripe();\n    this.montantcredit =  this.activatedRouter.snapshot.paramMap.get(\"montantcredit\");\n    this.numerohayo =  this.activatedRouter.snapshot.paramMap.get(\"numerohayo\");\n\n  }\n\n  setupStripe() {\n    let elements = this.stripe.elements();\n    var style = {\n      base: {\n        color: '#32325d',\n        lineHeight: '24px',\n        fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n        fontSmoothing: 'antialiased',\n        fontSize: '16px',\n        '::placeholder': {\n          color: '#aab7c4'\n        }\n      },\n      invalid: {\n        color: '#fa755a',\n        iconColor: '#fa755a'\n      }\n    };\n\n    this.card = elements.create('card', { style: style });\n    console.log(this.card);\n    this.card.mount('#card-element');\n\n    this.card.addEventListener('change', event => {\n      var displayError = document.getElementById('card-errors');\n      if (event.error) {\n        displayError.textContent = event.error.message;\n      } else {\n        displayError.textContent = '';\n      }\n    });\n\n    var form = document.getElementById('payment-form');\nform.addEventListener('submit', event => {\nevent.preventDefault();\nthis.stripe.createSource(this.card).then(result => {\nif (result.error) {\nvar errorElement = document.getElementById('card-errors');\nerrorElement.textContent = result.error.message;\n} else {\nthis.makePayment(result.source.id);\n}\n});\n});\n  }\n  makePayment(token) {\n    var headers = new HttpHeaders();\n    headers.append(\"Accept\", 'application/json');\n    headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=utf-8' );\n    headers.append('Authorization', 'Basic bXlhZG1pbmFwaTpQQDU1JnIxMjNhcGloYXlvcGFzcw==' );\n \n    this.http\n      .post('https://apihayo.elite-techno.net/api/callstripe', {\n        token: token,\n        numerohayo : this.numerohayo,\n         montantcredit: this.montantcredit\n      }, { headers: headers })\n      .subscribe(data => {\n         if(data[\"status\"] == 200){\n          this.route.navigate(['/thanksyou']);\n         }else {\n          alert(\"Transaction a échoué\");\n        }\n\n      });\n  }\n\n  positionnercredit() {\n    var headers = new HttpHeaders();\n    headers.append(\"Accept\", 'application/json');\n    headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=utf-8' );\n    headers.append('Authorization', 'Basic bXlhZG1pbmFwaTpQQDU1JnIxMjNhcGloYXlvcGFzcw==' );\n \n    this.http\n      .post('https://apihayo.elite-techno.net/api/positionnementcredit', {\n        numerohayo : this.numerohayo,\n         montantcredit: this.montantcredit\n      }, { headers: headers })\n      .subscribe(data => {\n         if(data[\"status\"] == 200){\n          this.route.navigate(['/thanksyou']);\n         }else {\n          alert(\"Transaction a échoué.Veuillez vous rapprocher de votre support\");\n        }\n\n      });\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}